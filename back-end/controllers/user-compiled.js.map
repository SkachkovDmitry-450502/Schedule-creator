{"version":3,"sources":["user.js"],"names":[],"mappings":";;;;;;;;;;AAAA,IAAI,QAAQ,QAAQ,OAAR,CAAZ;;IAEqB,I;AACjB,kBAAY,MAAZ,EAAoB;AAAA;;AAChB,aAAK,KAAL,GAAa,OAAO,KAApB;AACA,aAAK,QAAL,GAAgB,OAAO,QAAvB;AACH;;;;gCAEO;AACJ,kBAAM,SAAN,CAAgB,CACZ,UAAU,QAAV,EAAoB;AAChB,qBAAK,eAAL,CAAqB,KAAK,KAA1B,EAAiC,QAAjC;AACH,aAHW,EAIZ,UAAU,OAAV,EAAmB,QAAnB,EAA6B;AACzB,oBAAI,OAAJ,EAAa;AACT,kCAAc,KAAK,KAAnB,EAA0B,KAAK,QAA/B,EAAyC,QAAzC;AACH,iBAFD,MAEO;AACH,6BAAS,IAAT,EAAe,KAAf;AACH;AACJ,aAVW,CAAhB,EAWG,QAXH;AAYH;;;+BAEM;AACH,kBAAM,SAAN,CAAgB,CACZ,UAAU,QAAV,EAAoB;AAChB,qBAAK,eAAL,CAAqB,KAAK,OAAL,CAArB,EAAoC,QAApC;AACH,aAHW,EAIZ,UAAU,OAAV,EAAmB,QAAnB,EAA6B;AACzB,oBAAI,OAAJ,EAAa;AACT,6BAAS,IAAT,EAAe,KAAf;AACH,iBAFD,MAEO;AACH,yBAAK,UAAL,CAAgB,IAAhB,EAAsB,QAAtB;AACH;AACJ,aAVW,CAAhB,EAWG,QAXH;AAYH;;;wCAEe,K,EAAO,Q,EAAU;AAC7B,kBAAM,SAAN,CAAgB,CACZ,UAAU,QAAV,EAAoB;AAChB,uBAAO,cAAP,CAAsB,KAAtB,EAA6B,QAA7B;AACH,aAHW,EAIZ,UAAU,IAAV,EAAgB,QAAhB,EAA0B;AACtB,oBAAI,IAAJ,EAAU;AACN,6BAAS,IAAT,EAAe,IAAf;AACH,iBAFD,MAEO;AACH,6BAAS,IAAT,EAAe,KAAf;AACH;AACJ,aAVW,CAAhB,EAWG,QAXH;AAYH;;;uCAEc,K,EAAO,Q,EAAU,Q,EAAU;AACtC,kBAAM,SAAN,CAAgB,CACZ,UAAU,QAAV,EAAoB;AAChB,uBAAO,cAAP,CAAsB,KAAtB,EAA6B,QAA7B;AACH,aAHW,EAIZ,UAAU,IAAV,EAAgB,QAAhB,EAA0B;AACtB,yBAAS,IAAT,EAAe,KAAK,UAAL,KAAoB,QAAnC;AACH,aANW,CAAhB,EAOG,QAPH;AAQH;;;;;;kBA5DgB,I","file":"user-compiled.js","sourcesContent":["var async = require('async');\r\n\r\nexport default class User {\r\n    constructor(object) {\r\n        this.email = object.email;\r\n        this.password = object.password;\r\n    }\r\n\r\n    login() {\r\n        async.waterfall([\r\n            function (callback) {\r\n                this._checkUserExist(this.email, callback);\r\n            },\r\n            function (isExist, callback) {\r\n                if (isExist) {\r\n                    checkPassword(this.email, this.password, callback);\r\n                } else {\r\n                    callback(null, false);\r\n                }\r\n            }\r\n        ], callback);\r\n    }\r\n\r\n    save() {\r\n        async.waterfall([\r\n            function (callback) {\r\n                this._checkUserExist(user['email'], callback);\r\n            },\r\n            function (isExist, callback) {\r\n                if (isExist) {\r\n                    callback(null, false);\r\n                } else {\r\n                    user.insertUser(user, callback)\r\n                }\r\n            }\r\n        ], callback);\r\n    }\r\n\r\n    _checkUserExist(email, callback) {\r\n        async.waterfall([\r\n            function (callback) {\r\n                userDB.getUserByEmail(email, callback);\r\n            },\r\n            function (user, callback) {\r\n                if (user) {\r\n                    callback(null, true);\r\n                } else {\r\n                    callback(null, false);\r\n                }\r\n            }\r\n        ], callback);\r\n    };\r\n\r\n    _checkPassword(email, password, callback) {\r\n        async.waterfall([\r\n            function (callback) {\r\n                userDB.getUserByEmail(email, callback);\r\n            },\r\n            function (user, callback) {\r\n                callback(null, user['password'] == password);\r\n            }\r\n        ], callback);\r\n    }\r\n}"]}