{"version":3,"sources":["login.js"],"names":[],"mappings":";;;;AAAA,IAAI,QAAQ,QAAQ,OAAR,CAAZ;AACA,IAAI,QAAQ,QAAQ,OAAR,CAAZ;AACA,IAAI,SAAS,QAAQ,cAAR,CAAb;AACA,IAAI,aAAa,QAAQ,cAAR,CAAjB;;IAEM,G,GACF,aAAY,IAAZ,EAAiB;AAAA;;AACb,SAAK,IAAL,GAAY,IAAZ;AACH,C;;AAGL,QAAQ,KAAR,GAAgB,UAAU,KAAV,EAAiB,QAAjB,EAA2B,QAA3B,EAAqC;AACjD,UAAM,SAAN,CAAgB,CACZ,UAAU,QAAV,EAAoB;AAChB,mBAAW,cAAX,CAA0B,KAA1B,EAAiC,QAAjC;AACH,KAHW,EAIZ,UAAU,OAAV,EAAmB,QAAnB,EAA6B;AACzB,YAAI,OAAJ,EAAa;AACT,0BAAc,KAAd,EAAqB,QAArB,EAA+B,QAA/B;AACH,SAFD,MAEO;AACH,qBAAS,IAAT,EAAe,KAAf;AACH;AACJ,KAVW,CAAhB,EAWG,QAXH;AAYH,CAbD;;AAeA,SAAS,aAAT,CAAuB,KAAvB,EAA8B,QAA9B,EAAwC,QAAxC,EAAkD;AAC9C,UAAM,SAAN,CAAgB,CACZ,UAAU,QAAV,EAAoB;AAChB,eAAO,cAAP,CAAsB,KAAtB,EAA6B,QAA7B;AACH,KAHW,EAIZ,UAAU,IAAV,EAAgB,QAAhB,EAA0B;AACtB,iBAAS,IAAT,EAAe,KAAK,UAAL,KAAoB,QAAnC;AACH,KANW,CAAhB,EAOG,QAPH;AAQH","file":"login-compiled.js","sourcesContent":["var mysql = require('mysql');\r\nvar async = require('async');\r\nvar userDB = require('../db/userDB');\r\nvar controller = require('./controller');\r\n\r\nclass Req{\r\n    constructor(name){\r\n        this.name = name;\r\n    }\r\n}\r\n\r\nexports.login = function (email, password, callback) {\r\n    async.waterfall([\r\n        function (callback) {\r\n            controller.checkUserExist(email, callback);\r\n        },\r\n        function (isExist, callback) {\r\n            if (isExist) {\r\n                checkPassword(email, password, callback);\r\n            } else {\r\n                callback(null, false);\r\n            }\r\n        }\r\n    ], callback);\r\n};\r\n\r\nfunction checkPassword(email, password, callback) {\r\n    async.waterfall([\r\n        function (callback) {\r\n            userDB.getUserByEmail(email, callback);\r\n        },\r\n        function (user, callback) {\r\n            callback(null, user['password'] == password);\r\n        }\r\n    ], callback);\r\n}"]}