{"version":3,"sources":["login.js"],"names":[],"mappings":";;AAIA;;;;;;AAJA,IAAI,UAAU,QAAQ,SAAR,CAAd;AACA,IAAI,OAAO,QAAQ,MAAR,CAAX;AACA,IAAI,SAAS,QAAQ,MAAR,EAAb;;AAIA,OAAO,GAAP,CAAW,GAAX,EAAgB,UAAU,GAAV,EAAe,GAAf,EAAoB,IAApB,EAA0B;AACtC,QAAI,QAAJ,CAAa,KAAK,OAAL,CAAa,SAAb,EAAwB,kCAAxB,CAAb;AACH,CAFD;;AAIA,OAAO,IAAP,CAAY,GAAZ,EAAiB,UAAU,GAAV,EAAe,GAAf,EAAoB,IAApB,EAA0B;AACvC,QAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AAC7B,qCAAmB,MAAnB,CAA0B,MAA1B,EAAkC,IAAI,IAAtC,EACK,IADL,CACU,sBAAc;AAChB,mBAAO,WAAW,KAAX,EAAP;AACH,SAHL,EAIK,IAJL,CAIU,mBAAW;AACb,sBAAU,IAAI,UAAJ,CAAe,GAAf,CAAV,GAAgC,IAAI,UAAJ,CAAe,GAAf,CAAhC;AACH,SANL,EAOK,KAPL,CAOW,iBAAS;AACZ,iBAAK,KAAL;AACH,SATL;AAUH,KAXD;AAYH,CAbD;;AAeA,OAAO,OAAP,GAAiB,MAAjB","file":"login-compiled.js","sourcesContent":["var express = require('express');\r\nvar path = require('path');\r\nvar router = express.Router();\r\n\r\nimport ControllersFactory from '../factories/controllersFactory';\r\n\r\nrouter.get('/', function (req, res, next) {\r\n    res.sendFile(path.resolve(__dirname, '../../front-end/login/login.html'));\r\n});\r\n\r\nrouter.post('/', function (req, res, next) {\r\n    new Promise((resolve, reject) => {\r\n        ControllersFactory.create('user', req.body)\r\n            .then(controller => {\r\n                return controller.login();\r\n            })\r\n            .then(isLogin => {\r\n                isLogin ? res.sendStatus(200) : res.sendStatus(304);\r\n            })\r\n            .catch(error => {\r\n                next(error);\r\n            });\r\n    })\r\n});\r\n\r\nmodule.exports = router;\r\n"]}